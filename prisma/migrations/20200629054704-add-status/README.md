# Migration `20200629054704-add-status`

This migration has been generated by Yuji Suzuki at 6/29/2020, 5:47:04 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "TodoStatus" AS ENUM ('TODO', 'IN_PROGRESS', 'WAITING', 'DONE');

ALTER TABLE "public"."Todo" ADD COLUMN "status" "TodoStatus" NOT NULL DEFAULT E'TODO';
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200628204359-create-simple-todo-schema..20200629054704-add-status
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -31,16 +31,17 @@
   tags      Tag[]
 }
 model Todo {
-  id         Int      @default(autoincrement()) @id
-  createdAt  DateTime @default(now())
+  id         Int        @default(autoincrement()) @id
+  createdAt  DateTime   @default(now())
   text       String
-  author     User     @relation(fields: [authorId], references: [id])
+  author     User       @relation(fields: [authorId], references: [id])
   authorId   Int
-  category   Category @relation(fields: [categoryId], references: [id])
+  category   Category   @relation(fields: [categoryId], references: [id])
   categoryId Int
   tags       Tag[]
+  status     TodoStatus @default(TODO)
 }
 model Tag {
   id         Int        @default(autoincrement()) @id
@@ -55,4 +56,11 @@
 enum Role {
   USER
   ADMIN
 }
+
+enum TodoStatus {
+  TODO
+  IN_PROGRESS
+  WAITING
+  DONE
+}
```


