query TodosPage($categoryId: Int!) {
  me {
    id
  }
  category(id: $categoryId) {
    id
    name
    todos(where: { archivedAt: { equals: null } }) {
      ...CategoryTodo
    }
  }
  # FIXME: Use category.tags
  tags {
    id
    name
  }
}

mutation CreateOneTodo($input: TodoCreateInput!) {
  createOneTodo(data: $input) {
    ...CategoryTodo
  }
}

mutation DeleteTodo($input: DeleteTodoInput!) {
  deleteTodo(data: $input) {
    id
    categoryId
  }
}

mutation UpdateTodo($input: UpdateTodoInput!) {
  updateTodo(data: $input) {
    ...CategoryTodo
  }
}

fragment CategoryTodo on Todo {
  id
  text
  categoryId
  tags {
    id
    name
  }
  status
  archivedAt
}
