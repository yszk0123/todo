query CategoryTodosPage($categoryId: String!, $categoryUUID: UUID!) {
  me {
    id
  }
  category(where: { id: $categoryId }) {
    id
    name
  }
  todos(
    where: { categoryId: { equals: $categoryId }, archivedAt: { equals: null } }
  ) {
    ...CategoryTodo
  }
  tags(where: { categories: { some: { id: { equals: $categoryUUID } } } }) {
    ...CategoryTag
  }
  checkpoints {
    ...RootCheckpoint
  }
  categories {
    ...RootCategory
  }
}

query TodosPageRefetch($categoryId: String!) {
  todos(
    where: { categoryId: { equals: $categoryId }, archivedAt: { equals: null } }
  ) {
    ...CategoryTodo
  }
}

mutation CreateOneTodo($input: TodoCreateInput!) {
  createOneTodo(data: $input) {
    ...CategoryTodo
  }
}

mutation DeleteTodo($input: DeleteTodoInput!) {
  deleteTodo(data: $input) {
    id
    categoryId
  }
}

mutation UpdateTodo($input: UpdateTodoInput!) {
  updateTodo(data: $input) {
    ...CategoryTodo
  }
}

mutation DeleteTodosById($input: DeleteTodosByIdInput!) {
  deleteTodosById(data: $input)
}

mutation UpdateTodosById($input: UpdateTodosByIdInput!) {
  updateTodosById(data: $input) {
    ...CategoryTodo
  }
}
